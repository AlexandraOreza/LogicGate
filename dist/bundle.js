(()=>{"use strict";const e=window.Phaser,t=Object.freeze({WHITE_ROOM:"WHITE_ROOM",MENU:"MENU",LVL2_WALL:"LVL2_WALL",LVL3_WALL:"LVL3_WALL",LVL4_WALL:"LVL4_WALL",LVL5_WALL:"LVL5_WALL"}),s=Object.freeze({POSTER_OR:"POSTER_OR",POSTER_AND:"POSTER_AND",POSTER_NOT:"POSTER_NOT",POSTER_NAND:"POSTER_NAND",POSTER_NOR:"POSTER_NOR",POSTER_XOR:"POSTER_XOR",POSTER_XNOR:"POSTER_XNOR",POSTER_ICON:"POSTER_ICON"}),i=Object.freeze({DOOR_OPEN:"DOOR_OPEN",DOOR_CLOSED:"DOOR_CLOSED",GATE_OPEN:"GATE_OPEN",GATE_CLOSED:"GATE_CLOSED"}),a=Object.freeze({LVL1:"LVL1",LVL2:"LVL2",LVL3:"LVL3",LVL4:"LVL4",LVL5:"LVL5"}),o=Object.freeze({CURSOR:"CURSOR",ARROWKEYS:"ARROWKEYS",FLAT_FRAME:"FLAT_FRAME",ENTER_KEY:"ENTER_KEY"}),r=Object.freeze({PRELOAD_SCENE:"PRELOAD_SCENE",MENU_SCENE:"MENU_SCENE",LEVEL_SCENE:"LEVEL_SCENE",LEVEL_SCENE2:"LEVEL_SCENE2",LEVEL_SCENE3:"LEVEL_SCENE3",LEVEL_SCENE4:"LEVEL_SCENE4",LEVEL_SCENE5:"LEVEL_SCENE5",INTRO_SCENE:"INTRO_SCENE",GAMEOVER_SCENE:"GAMEOVER_SCENE",PROGRESS_SCENE:"PROGRESS_SCENE",END_SCENE:"END_SCENE"});class n extends e.Scene{constructor(){super({key:r.PRELOAD_SCENE})}preload(){console.log(`[${n.name}: preload] invoked`),this.load.setPath("assets/"),this.load.image(t.WHITE_ROOM,"room-wall2.png"),this.load.image(t.LVL2_WALL,"bg_2.png"),this.load.image(s.POSTER_OR,"posterOR.png"),this.load.image(s.POSTER_AND,"posterAND.png"),this.load.image(s.POSTER_NOT,"posterNOT.png"),this.load.image(s.POSTER_NAND,"posterNAND.png"),this.load.image(s.POSTER_NOR,"posterNOR.png"),this.load.image(s.POSTER_XOR,"posterXOR.png"),this.load.image(s.POSTER_XNOR,"posterXNOR.png"),this.load.image(s.POSTER_ICON,"/Realistic/stuff/Document1.png"),this.load.image(i.DOOR_CLOSED,"/Realistic/stuff/Door2.png"),this.load.image(i.DOOR_OPEN,"Door2_open.png"),this.load.image(i.GATE_OPEN,"/Realistic/stuff/Gate1_open.png"),this.load.image(i.GATE_CLOSED,"/Realistic/stuff/Gate1.png"),this.load.image(a.LVL1,"chll/lvl1.png"),this.load.image(a.LVL2,"chll/lvl2.png"),this.load.image(a.LVL3,"chll/lvl3.png"),this.load.image(a.LVL4,"chll/lvl4.png"),this.load.image(a.LVL5,"chll/lvl5.png"),this.load.image(o.CURSOR,"ui/arrowSilver_right.png"),this.load.image(o.ARROWKEYS,"/Realistic/elements/ArrowKeys1.png"),this.load.image(o.FLAT_FRAME,"ui/UI_Flat_Frame_01_Standard.png"),this.load.image(o.ENTER_KEY,"ui/EnterKey1.png"),this.load.audio("menuMusic",["sound/menu_bg.mp3"],{stream:!0}),this.load.audio("wrongAns",["sound/587253__beetlemuse__dats-wrong.wav"]),this.load.audio("rightAns",["sound/587252__beetlemuse__dats-right.wav"]),this.load.text("Intro","txt/intro.txt")}create(){console.log(`[${n.name}: create] invoked`),this.scene.start(r.MENU_SCENE)}}const l=Object.freeze({LEFT:"LEFT",RIGHT:"RIGHT",UP:"UP",DOWN:"DOWN",NONE:"NONE"});function h(e){throw new Error(`Error! Reached forbidden guard function with unexpected value: ${JSON.stringify(e)}`)}const d={1:{correct:"00",answers:{OP1:"00",OP2:"10",OP3:"01",OP4:"11"},wrongMappings:{OP1:1,OP2:2,OP3:3,OP0:0},rightMapping:0},2:{correct:"110",answers:{OP1:"010",OP2:"110",OP3:"001",OP4:"111"},wrongMappings:{OP1:1,OP2:2,OP3:3,OP0:0},rightMapping:1},3:{correct:"01",answers:{OP1:"00",OP2:"10",OP3:"11",OP4:"01"},wrongMappings:{OP1:1,OP2:2,OP3:3,OP0:0},rightMapping:3},4:{correct:"01",answers:{OP1:"10",OP2:"11",OP3:"01",OP4:"00"},wrongMappings:{OP1:1,OP2:2,OP3:3,OP0:0},rightMapping:2},5:{correct:"011",answers:{OP1:"111",OP2:"011",OP3:"101",OP4:"010"},wrongMappings:{OP1:1,OP2:2,OP3:3,OP0:0},rightMapping:1}},c={color:"black",fontSize:"30px"},u=Object.freeze({x:50,y:445});class p{#e;#t;#s;#i;#a;#o;#r;#n;#l;#h;#d;constructor(e){this.#e=e,this.#o=0,this.#r=this.#e.data.values.level,this.#n=d[this.#r],this.#h=d[this.#r].answers,this.#i=2,this.#l=new Set,this.#c()}handleInput(e){if("CANCEL"!==e){if("OK"===e){let e=null;return this.#o<3?e=this.#u(this.#i):this.#e.scene.start(r.GAMEOVER_SCENE),"1"===e?"1":void 0}this.#p(e),this.#E()}else this.hideMenu()}#u(e){if(e===this.#n.rightMapping)return this.#e.sound.play("rightAns",{volume:.5}),"1";if(!this.#l.has(e)){const t=this.#n.wrongMappings["OP"+e];if(this.#d=this.#a.getAt(t),!this.#d)return void console.error("Invalid option:",t);this.#d.getAt(0).fillColor=16711680,this.#e.sound.play("wrongAns",{volume:.5}),this.#l.add(e),this.#o++}}#p(e){if(2!==this.#i)if(3!==this.#i)if(0!==this.#i)if(1!==this.#i)h(this.#i);else switch(e){case l.LEFT:return void(this.#i=0);case l.UP:return void(this.#i=3);case l.DOWN:case l.RIGHT:case l.NONE:return;default:h(e)}else switch(e){case l.RIGHT:return void(this.#i=1);case l.UP:return void(this.#i=2);case l.DOWN:case l.LEFT:case l.NONE:return;default:h(this.#i)}else switch(e){case l.LEFT:return void(this.#i=2);case l.DOWN:return void(this.#i=1);case l.UP:case l.RIGHT:case l.NONE:return;default:h(this.#i)}else switch(e){case l.RIGHT:return void(this.#i=3);case l.DOWN:return void(this.#i=0);case l.UP:case l.LEFT:case l.NONE:return;default:h(this.#i)}}#E(){switch(this.#i){case 2:return void this.#s.setPosition(u.x,u.y);case 3:return void this.#s.setPosition(550,u.y);case 0:return void this.#s.setPosition(u.x,538);case 1:return void this.#s.setPosition(550,538);default:return void h(this.#i)}}#c(){this.#s=this.#e.add.image(u.x,u.y,o.CURSOR,0).setScale(1.5),this.#a=this.#e.add.container(0,0,[this.#g(0,0,this.#h.OP1),this.#g(508,0,this.#h.OP2),this.#g(0,87,this.#h.OP3),this.#g(508,87,this.#h.OP4),this.#s])}#g(e,t,s){return this.#t=this.#e.add.container(0,0,[this.#e.add.rectangle(e+5,this.#e.scale.height-87-t,505,87,15590643,.8).setOrigin(0).setStrokeStyle(8,9460418,1),this.#e.add.text(e+100,this.#e.scale.height-87-t+25,s,c).setOrigin(0)]),this.#t}hideMenu(){this.#a.setVisible(!1)}}class E extends e.Scene{#O;#S;#v;#N;#R;#L;#_;constructor(){super({key:r.LEVEL_SCENE}),this.#N=!1}create(){this.data.set({level:1,progress:!1}),console.log(`[${E.name}: create] invoked`),this.add.image(0,0,t.WHITE_ROOM).setOrigin(0).setScale(.52,.39),this.add.text(0,0,"Level: "+this.data.values.level,{color:"black",fontSize:"30px"}),this.#L=this.add.image(300,250,s.POSTER_ICON).setScale(.1),this.#y(this.#N),this.#L.setInteractive({useHandCursor:!0});let i,r,n,l,h,d,c,u=this.add.layer();u.setInteractive(),this.#v.on("pointerover",(()=>{this.#v.setAlpha(.5)})),this.#v.on("pointerout",(()=>{this.#v.clearAlpha()})),this.#v.on("pointerup",(()=>{0==this.#N?(i=this.add.image(-190,-25,a.LVL1).setOrigin(0),n=this.add.image(100,100,o.ARROWKEYS).setScale(.3),l=this.add.image(100,270,o.ENTER_KEY).setScale(.25).setRotation(.3),r=this.add.text(this.scale.width/4,50,"¿Qué valor resulta para '??' ?",{color:"#000",fontSize:"25px"}),this.#R=this.add.container(0,0,[this.add.rectangle(this.scale.width/2,215,600,350,16777215),i,r,n,l]),this.#O=new p(this),this.#v.disableInteractive(),this.#L.disableInteractive()):console.log("cleared")})),this.#L.on("pointerover",(()=>{this.#L.setAlpha(.5)})),this.#L.on("pointerout",(()=>{this.#L.clearAlpha()})),this.#L.on("pointerup",(()=>{d||h||(d=u.add(this.add.image(this.scale.width/2,200,s.POSTER_OR).setScale(.5)),c=u.add(this.add.image(this.scale.width/2,350,s.POSTER_AND).setScale(.5)),h=this.add.text(this.scale.width/3,100,"Haz clic fuera de la imagen para cerrar",{color:"#000",align:"center"}),d.setVisible(!0),c.setVisible(!0),h.setVisible(!0),this.#L.disableInteractive(),this.#v.disableInteractive())})),this.input.on("pointerdown",(()=>{d&&h&&(d.setVisible(!1),c.setVisible(!1),h.setVisible(!1),d=null,c=null,h=null,this.#L.setInteractive(),this.#v.setInteractive())})),this.#S=this.input.keyboard.createCursorKeys(),this.#_=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ENTER)}update(){const t=e.Input.Keyboard.JustDown(this.#S.space),s=e.Input.Keyboard.JustDown(this.#_);if(this.#O&&(t||s)){return"1"===this.#O.handleInput("OK")?(this.#N=!0,console.log("got it right"),void this.#y(this.#N)):void 0}if(this.#O&&e.Input.Keyboard.JustDown(this.#S.shift))return this.#O.handleInput("CANCEL"),this.#v.setInteractive(!0),this.#R.setVisible(!1),this.#L.setInteractive(!0),void this.input.keyboard.disableGlobalCapture();let i=l.NONE;this.#S.left.isDown?i=l.LEFT:this.#S.right.isDown?i=l.RIGHT:this.#S.down.isDown?i=l.DOWN:this.#S.up.isDown&&(i=l.UP),i!==l.NONE&&this.#O.handleInput(i)}#y(e){1==e?(this.#O.hideMenu(),this.#R.setVisible(!1),this.#v=this.add.image(this.scale.width/2,360,i.DOOR_OPEN).setScale(.3),this.#v.on("pointerup",(()=>{this.data.values.progress=!0,this.scene.start(r.PROGRESS_SCENE,{levelData:this.data.values})}))):this.#v=this.add.image(this.scale.width/2,360,i.DOOR_CLOSED).setScale(.3),this.#v.setInteractive({useHandCursor:!0})}}class g extends e.Scene{constructor(){super({key:r.MENU_SCENE})}create(){console.log(`[${g.name}: create] invoked`),this.add.image(0,0,t.WHITE_ROOM).setOrigin(0).setScale(.52,.39);this.add.text(this.scale.width/3,180,"LogicGate",{fontFamily:"Courier",fontSize:"64px",color:"#000",align:"center"});const e=this.add.text(this.scale.width/2.7,300,"Jugar",{fontFamily:"Arial",fontSize:"32px",color:"#ffffff",align:"center",fixedWidth:260,backgroundColor:"#8e8e8e"}).setPadding(32).setOrigin(0);this.sound.pauseOnBlur=!1,this.sound.play("menuMusic",{loop:!0,volume:.3}),e.setInteractive({useHandCursor:!0}),e.on("pointerover",(()=>{e.setBackgroundColor("#c1c1c1")})),e.on("pointerout",(()=>{e.setBackgroundColor("#8e8e8e")})),e.on("pointerup",(()=>{this.sound.stopAll(),this.scene.start(r.INTRO_SCENE),e.disableInteractive()}),this)}}class O extends e.Scene{#b=[];#C;#P;#w;#I;#m;#_;#r;constructor(){super({key:r.PROGRESS_SCENE})}init(e){this.#b.push(e),this.#r=e.levelData.level}create(){console.log(`[${O.name}: create] invoked`),this.add.text(this.scale.width/3+50,100,"Presiona enter para continuar",{color:"white"}),this.#C=this.add.container(150,250,[this.add.image(0,0,o.FLAT_FRAME).setOrigin(0).setAlpha(.3),this.add.text(45,40,"1",{fontSize:"20px"})]),this.#P=this.add.container(300,250,[this.add.image(0,0,o.FLAT_FRAME).setOrigin(0).setAlpha(.3),this.add.text(45,40,"2",{fontSize:"20px"})]),this.#w=this.add.container(450,250,[this.add.image(0,0,o.FLAT_FRAME).setOrigin(0).setAlpha(.3),this.add.text(45,40,"3",{fontSize:"20px"})]),this.#I=this.add.container(600,250,[this.add.image(0,0,o.FLAT_FRAME).setOrigin(0).setAlpha(.3),this.add.text(45,40,"4",{fontSize:"20px"})]),this.#m=this.add.container(750,250,[this.add.image(0,0,o.FLAT_FRAME).setOrigin(0).setAlpha(.3),this.add.text(45,40,"5",{fontSize:"20px"})]),this.#T(),this.#_=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ENTER)}update(){if(e.Input.Keyboard.JustDown(this.#_)){console.log(`entering level: ${this.#b.length+1}`),this.#r+=1;const e=`LEVEL_SCENE${this.#r}`;r[e]?this.scene.start(r[e]):this.scene.start(r.END_SCENE)}}#T(){const e=Object.freeze({1:this.#C,2:this.#P,3:this.#w,4:this.#I,5:this.#m});this.#b.forEach((t=>{if(1==t.levelData.progress){const s=e[t.levelData.level];s&&s.getAt(0).setAlpha(1)}}))}}class S extends e.Scene{#O;#S;#v;#N;#R;#L;#_;constructor(){super({key:r.LEVEL_SCENE2}),this.#N=!1}create(){this.data.set({level:2,progress:!1}),console.log(`[${S.name}: create] invoked`),this.add.image(0,0,t.LVL2_WALL).setOrigin(0),this.add.text(0,0,"Level: "+this.data.values.level,{color:"black",fontSize:"30px"}),this.#L=this.add.image(300,250,s.POSTER_ICON).setScale(.1),this.#y(this.#N),this.#L.setInteractive({useHandCursor:!0});let i,r,n,l,h,d,c=this.add.layer();c.setInteractive(),this.#v.on("pointerover",(()=>{this.#v.setAlpha(.5)})),this.#v.on("pointerout",(()=>{this.#v.clearAlpha()})),this.#v.on("pointerup",(()=>{0==this.#N?(i=this.add.image(this.scale.width/8,50,a.LVL2).setOrigin(0).setScale(1.5),n=this.add.image(100,100,o.ARROWKEYS).setScale(.3).setRotation(-.3),l=this.add.image(100,270,o.ENTER_KEY).setScale(.25).setRotation(.3),r=this.add.text(this.scale.width/4,50,"¿Qué valor resulta para ??? ?",{color:"#000",fontSize:"25px"}),this.#R=this.add.container(0,0,[this.add.rectangle(this.scale.width/2,215,600,350,16777215),i,r,n,l]),this.#O=new p(this),this.#v.disableInteractive(),this.#L.disableInteractive()):console.log("cleared")})),this.#L.on("pointerover",(()=>{this.#L.setAlpha(.5)})),this.#L.on("pointerout",(()=>{this.#L.clearAlpha()})),this.#L.on("pointerup",(()=>{d||h||(d=c.add(this.add.image(this.scale.width/2,325,s.POSTER_NOT)),h=this.add.text(this.scale.width/3,100,"Haz clic fuera de la imagen para cerrar",{color:"#000",align:"center"}),d.setVisible(!0),h.setVisible(!0),this.#L.disableInteractive(),this.#v.disableInteractive())})),this.input.on("pointerdown",(()=>{d&&h&&(d.setVisible(!1),h.setVisible(!1),d=null,h=null,this.#L.setInteractive(),this.#v.setInteractive())})),this.#S=this.input.keyboard.createCursorKeys(),this.#_=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ENTER)}update(){const t=e.Input.Keyboard.JustDown(this.#S.space),s=e.Input.Keyboard.JustDown(this.#_);if(this.#O&&(t||s)){return"1"===this.#O.handleInput("OK")?(this.#N=!0,console.log("got it right"),void this.#y(this.#N)):void console.log("adsads")}if(this.#O&&e.Input.Keyboard.JustDown(this.#S.shift))return this.#O.handleInput("CANCEL"),this.#v.setInteractive(!0),this.#R.setVisible(!1),this.#L.setInteractive(!0),void this.input.keyboard.disableGlobalCapture();let i=l.NONE;this.#S.left.isDown?i=l.LEFT:this.#S.right.isDown?i=l.RIGHT:this.#S.down.isDown?i=l.DOWN:this.#S.up.isDown&&(i=l.UP),i!==l.NONE&&this.#O.handleInput(i)}#y(e){1==e?(this.#O.hideMenu(),this.#R.setVisible(!1),this.#v=this.add.image(this.scale.width/2,360,i.GATE_OPEN).setScale(.3),this.#v.on("pointerup",(()=>{this.data.values.progress=!0,this.scene.start(r.PROGRESS_SCENE,{levelData:this.data.values})}))):this.#v=this.add.image(this.scale.width/2,360,i.GATE_CLOSED).setScale(.3),this.#v.setInteractive({useHandCursor:!0})}}class v extends e.Scene{#O;#S;#v;#N;#R;#L;#_;constructor(){super({key:r.LEVEL_SCENE3}),this.#N=!1}create(){this.data.set({level:3,progress:!1}),console.log(`[${v.name}: create] invoked`),this.add.image(0,0,t.WHITE_ROOM).setOrigin(0).setScale(.52,.39),this.add.text(0,0,"Level: "+this.data.values.level,{color:"black",fontSize:"30px"}),this.#L=this.add.image(300,250,s.POSTER_ICON).setScale(.1),this.#y(this.#N),this.#L.setInteractive({useHandCursor:!0});let i,r,n,l,h,d,c,u,E=this.add.layer();E.setInteractive(),this.#v.on("pointerover",(()=>{this.#v.setAlpha(.5)})),this.#v.on("pointerout",(()=>{this.#v.clearAlpha()})),this.#v.on("pointerup",(()=>{0==this.#N?(i=this.add.image(250,80,a.LVL3).setOrigin(0),n=this.add.image(100,100,o.ARROWKEYS).setScale(.3),l=this.add.image(100,270,o.ENTER_KEY).setScale(.25).setRotation(.3),r=this.add.text(this.scale.width/4,50,"¿Qué valor resulta para el circuito?",{color:"#000",fontSize:"25px"}),this.#R=this.add.container(0,0,[this.add.rectangle(this.scale.width/2,215,600,350,16777215),i,r,n,l]),this.#O=new p(this),this.#v.disableInteractive(),this.#L.disableInteractive()):console.log("cleared")})),this.#L.on("pointerover",(()=>{this.#L.setAlpha(.5)})),this.#L.on("pointerout",(()=>{this.#L.clearAlpha()})),this.#L.on("pointerup",(()=>{d||h||(d=E.add(this.add.image(300,200,s.POSTER_NOT).setScale(.6)),c=E.add(this.add.image(680,200,s.POSTER_AND).setScale(.5)),u=E.add(this.add.image(this.scale.width/2,350,s.POSTER_OR).setScale(.5)),h=this.add.text(this.scale.width/3,100,"Haz clic fuera de la imagen para cerrar",{color:"#000",align:"center"}),d.setVisible(!0),c.setVisible(!0),u.setVisible(!0),h.setVisible(!0),this.#L.disableInteractive(),this.#v.disableInteractive())})),this.input.on("pointerdown",(()=>{d&&h&&(d.setVisible(!1),c.setVisible(!1),u.setVisible(!1),h.setVisible(!1),d=null,c=null,u=null,h=null,this.#L.setInteractive(),this.#v.setInteractive())})),this.#S=this.input.keyboard.createCursorKeys(),this.#_=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ENTER)}update(){const t=e.Input.Keyboard.JustDown(this.#S.space),s=e.Input.Keyboard.JustDown(this.#_);if(this.#O&&(t||s)){return"1"===this.#O.handleInput("OK")?(this.#N=!0,console.log("got it right"),void this.#y(this.#N)):void console.log("adsads")}if(this.#O&&e.Input.Keyboard.JustDown(this.#S.shift))return this.#O.handleInput("CANCEL"),this.#v.setInteractive(!0),this.#R.setVisible(!1),this.#L.setInteractive(!0),void this.input.keyboard.disableGlobalCapture();let i=l.NONE;this.#S.left.isDown?i=l.LEFT:this.#S.right.isDown?i=l.RIGHT:this.#S.down.isDown?i=l.DOWN:this.#S.up.isDown&&(i=l.UP),i!==l.NONE&&this.#O.handleInput(i)}#y(e){1==e?(this.#O.hideMenu(),this.#R.setVisible(!1),this.#v=this.add.image(this.scale.width/2,360,i.DOOR_OPEN).setScale(.3),this.#v.on("pointerup",(()=>{this.data.values.progress=!0,this.scene.start(r.PROGRESS_SCENE,{levelData:this.data.values})}))):this.#v=this.add.image(this.scale.width/2,360,i.DOOR_CLOSED).setScale(.3),this.#v.setInteractive({useHandCursor:!0})}}class N extends e.Scene{#O;#S;#v;#N;#R;#L;#_;constructor(){super({key:r.LEVEL_SCENE4}),this.#N=!1}create(){this.data.set({level:4,progress:!1}),console.log(`[${N.name}: create] invoked`),this.add.image(0,0,t.WHITE_ROOM).setOrigin(0).setScale(.52,.39),this.add.text(0,0,"Level: "+this.data.values.level,{color:"black",fontSize:"30px"}),this.#L=this.add.image(300,250,s.POSTER_ICON).setScale(.1),this.#y(this.#N),this.#L.setInteractive({useHandCursor:!0});let i,r,n,l,h,d,c,u,E=this.add.layer();E.setInteractive(),this.#v.on("pointerover",(()=>{this.#v.setAlpha(.5)})),this.#v.on("pointerout",(()=>{this.#v.clearAlpha()})),this.#v.on("pointerup",(()=>{0==this.#N?(i=this.add.image(150,50,a.LVL4).setOrigin(0),n=this.add.image(100,100,o.ARROWKEYS).setScale(.3),l=this.add.image(100,270,o.ENTER_KEY).setScale(.25).setRotation(.3),r=this.add.text(this.scale.width/4,50,"¿Qué valor resulta para '??' ?",{color:"#000",fontSize:"25px"}),this.#R=this.add.container(0,0,[this.add.rectangle(this.scale.width/2,215,600,350,16777215),i,r,n,l]),this.#O=new p(this),this.#v.disableInteractive(),this.#L.disableInteractive()):console.log("cleared")})),this.#L.on("pointerover",(()=>{this.#L.setAlpha(.5)})),this.#L.on("pointerout",(()=>{this.#L.clearAlpha()})),this.#L.on("pointerup",(()=>{d||h||(d=E.add(this.add.image(this.scale.width/2,350,s.POSTER_NOR).setScale(.6)),c=E.add(this.add.image(300,200,s.POSTER_XOR).setScale(.6)),u=E.add(this.add.image(680,200,s.POSTER_NAND).setScale(.6)),h=this.add.text(this.scale.width/3,100,"Haz clic fuera de la imagen para cerrar",{color:"#000",align:"center"}),d.setVisible(!0),c.setVisible(!0),u.setVisible(!0),h.setVisible(!0),this.#L.disableInteractive(),this.#v.disableInteractive())})),this.input.on("pointerdown",(()=>{d&&h&&(d.setVisible(!1),c.setVisible(!1),u.setVisible(!1),h.setVisible(!1),d=null,u=null,c=null,h=null,this.#L.setInteractive(),this.#v.setInteractive())})),this.#S=this.input.keyboard.createCursorKeys(),this.#_=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ENTER)}update(){const t=e.Input.Keyboard.JustDown(this.#S.space),s=e.Input.Keyboard.JustDown(this.#_);if(this.#O&&(t||s)){return"1"===this.#O.handleInput("OK")?(this.#N=!0,console.log("got it right"),void this.#y(this.#N)):void console.log("adsads")}if(this.#O&&e.Input.Keyboard.JustDown(this.#S.shift))return this.#O.handleInput("CANCEL"),this.#v.setInteractive(!0),this.#R.setVisible(!1),this.#L.setInteractive(!0),void this.input.keyboard.disableGlobalCapture();let i=l.NONE;this.#S.left.isDown?i=l.LEFT:this.#S.right.isDown?i=l.RIGHT:this.#S.down.isDown?i=l.DOWN:this.#S.up.isDown&&(i=l.UP),i!==l.NONE&&this.#O.handleInput(i)}#y(e){1==e?(this.#O.hideMenu(),this.#R.setVisible(!1),this.#v=this.add.image(this.scale.width/2,360,i.DOOR_OPEN).setScale(.3),this.#v.on("pointerup",(()=>{this.data.values.progress=!0,this.scene.start(r.PROGRESS_SCENE,{levelData:this.data.values})}))):this.#v=this.add.image(this.scale.width/2,360,i.DOOR_CLOSED).setScale(.3),this.#v.setInteractive({useHandCursor:!0})}}class R extends e.Scene{#O;#S;#v;#N;#R;#L;#_;constructor(){super({key:r.LEVEL_SCENE5}),this.#N=!1}create(){this.data.set({level:5,progress:!1}),console.log(`[${R.name}: create] invoked`),this.add.image(0,0,t.WHITE_ROOM).setOrigin(0).setScale(.52,.39),this.add.text(0,0,"Level: "+this.data.values.level,{color:"black",fontSize:"30px"}),this.#L=this.add.image(300,250,s.POSTER_ICON).setScale(.1),this.#y(this.#N),this.#L.setInteractive({useHandCursor:!0});let i,r,n,l,h,d,c,u,E=this.add.layer();E.setInteractive(),this.#v.on("pointerover",(()=>{this.#v.setAlpha(.5)})),this.#v.on("pointerout",(()=>{this.#v.clearAlpha()})),this.#v.on("pointerup",(()=>{0==this.#N?(i=this.add.image(70,50,a.LVL5).setOrigin(0),n=this.add.image(100,100,o.ARROWKEYS).setScale(.3),l=this.add.image(100,270,o.ENTER_KEY).setScale(.25).setRotation(.3),r=this.add.text(this.scale.width/4,50,"¿Qué valor resulta para '???' ?",{color:"#000",fontSize:"25px"}),this.#R=this.add.container(0,0,[this.add.rectangle(this.scale.width/2,215,600,350,16777215),i,r,n,l]),this.#O=new p(this),this.#v.disableInteractive(),this.#L.disableInteractive()):console.log("cleared")})),this.#L.on("pointerover",(()=>{this.#L.setAlpha(.5)})),this.#L.on("pointerout",(()=>{this.#L.clearAlpha()})),this.#L.on("pointerup",(()=>{d||h||(d=E.add(this.add.image(this.scale.width/2,350,s.POSTER_NOT).setScale(.5)),c=E.add(this.add.image(300,200,s.POSTER_XNOR).setScale(.6)),u=E.add(this.add.image(680,200,s.POSTER_NAND).setScale(.6)),h=this.add.text(this.scale.width/3,100,"Haz clic fuera de la imagen para cerrar",{color:"#000",align:"center"}),d.setVisible(!0),c.setVisible(!0),u.setVisible(!0),h.setVisible(!0),this.#L.disableInteractive(),this.#v.disableInteractive())})),this.input.on("pointerdown",(()=>{d&&h&&(d.setVisible(!1),c.setVisible(!1),u.setVisible(!1),h.setVisible(!1),d=null,u=null,c=null,h=null,this.#L.setInteractive(),this.#v.setInteractive())})),this.#S=this.input.keyboard.createCursorKeys(),this.#_=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ENTER)}update(){const t=e.Input.Keyboard.JustDown(this.#S.space),s=e.Input.Keyboard.JustDown(this.#_);if(this.#O&&(t||s)){return"1"===this.#O.handleInput("OK")?(this.#N=!0,console.log("got it right"),void this.#y(this.#N)):void console.log("adsads")}if(this.#O&&e.Input.Keyboard.JustDown(this.#S.shift))return this.#O.handleInput("CANCEL"),this.#v.setInteractive(!0),this.#R.setVisible(!1),this.#L.setInteractive(!0),void this.input.keyboard.disableGlobalCapture();let i=l.NONE;this.#S.left.isDown?i=l.LEFT:this.#S.right.isDown?i=l.RIGHT:this.#S.down.isDown?i=l.DOWN:this.#S.up.isDown&&(i=l.UP),i!==l.NONE&&this.#O.handleInput(i)}#y(e){1==e?(this.#O.hideMenu(),this.#R.setVisible(!1),this.#v=this.add.image(this.scale.width/2,360,i.DOOR_OPEN).setScale(.3),this.#v.on("pointerup",(()=>{this.data.values.progress=!0,this.scene.start(r.PROGRESS_SCENE,{levelData:this.data.values})}))):this.#v=this.add.image(this.scale.width/2,360,i.DOOR_CLOSED).setScale(.3),this.#v.setInteractive({useHandCursor:!0})}}class L extends e.Scene{constructor(){super({key:r.END_SCENE})}create(){console.log(`[${L.name}: create] invoked`),console.log("Yei, no hay más niveles"),this.add.text(200,200,"Felicidades, has terminado \ntodos los niveles",{fontSize:"40px",color:"white",align:"center"}).setOrigin(0),this.add.text(5,535,"Assets empleados:\nComplete UI Essential Pack (crusenho)\nHand drawn dungeon icon pack (limofeus)",{fontSize:"15px",color:"white"}).setOrigin(0),this.add.text(785,535,"sfx empleados:\nCDat's Wrong! (Beetlemuse)\nDat's Right! (Beetlemuse)",{fontSize:"15px",color:"white",align:"right"}).setOrigin(0);const e=this.add.text(370,300,"Volver al menu",{fontFamily:"Courier",fontSize:"15px",color:"#ffffff",align:"center",fixedWidth:260,backgroundColor:"#8e8e8e"}).setPadding(32).setOrigin(0);e.setInteractive({useHandCursor:!0}),e.on("pointerover",(()=>{e.setBackgroundColor("#c1c1c1")})),e.on("pointerout",(()=>{e.setBackgroundColor("#8e8e8e")})),e.on("pointerup",(()=>{this.sound.stopAll(),this.scene.start(r.MENU_SCENE),e.disableInteractive()}),this)}}class _ extends e.Scene{constructor(){super({key:r.GAMEOVER_SCENE})}create(){console.log(`[${_.name}: create] invoked`),this.add.text(250,150,"Vaya, parece que no has comprendido el tema lo suficiente :(");const e=this.add.text(370,300,"Volver al menu",{fontFamily:"Courier",fontSize:"15px",color:"#ffffff",align:"center",fixedWidth:260,backgroundColor:"#8e8e8e"}).setPadding(32).setOrigin(0);e.setInteractive({useHandCursor:!0}),e.on("pointerover",(()=>{e.setBackgroundColor("#c1c1c1")})),e.on("pointerout",(()=>{e.setBackgroundColor("#8e8e8e")})),e.on("pointerup",(()=>{this.sound.stopAll(),this.scene.start(r.MENU_SCENE),e.disableInteractive()}),this)}}class y extends e.Scene{#D=[];#f;#_;constructor(){super({key:r.INTRO_SCENE})}create(){console.log(`[${y.name}: create] invoked`);const e=this.cache.text.get("Intro");this.#D=e.split("\n"),this.#f=this.add.text(180,150,this.#D[0],{color:"white",fontSize:"20px",align:"center",wordWrap:{width:700}}),this.add.text(350,400,"presiona ENTER para continuar\nPresiona SHIFT para saltar",{color:"white",fontSize:"15px",align:"center"}),this.input.keyboard.on("keydown",(e=>{"Enter"===e.code?this.#A():"ShiftLeft"!==e.code&&"ShiftRight"!==e.code||this.scene.start(r.LEVEL_SCENE)}),this)}#A(){this.#D.shift(),this.#D.length>0?this.#f.setText(this.#D[0]):this.scene.start(r.LEVEL_SCENE)}}new e.Game({type:e.CANVAS,scale:{parent:"gameContainer",width:1024,height:576,mode:e.Scale.FIT,autoCenter:e.Scale.CENTER_HORIZONTALLY},audio:{disableWebAudio:!0},scene:[n,g,y,E,S,v,N,R,O,L,_]})})();